<!DOCTYPE html>
<html lang="en">
   <head>
      <script src="../js/jquery.js"></script>
      <script>
          function logoutFunction(event) {
            event.preventDefault();
            window.location.href= 'https://vashama.github.io/BrewDay/BrewDay/index.html';
          }
          function brewTodayFunction(event) {
            var output = "";
            alert("In function");
            $.ajax({
                  type: "POST",
                  crossDomain: true,
                  url: "http://localhost:8080/pareto/main",
          success: function (response) {
              //code for setting session and sign in
              output = response.toString();
              alert(output);
          }
          });
            alert("output: " + output);
            window.location.href= 'https://vashama.github.io/BrewDay/BrewDay/login/brewToday.html';
          }
      </script>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="">
      <meta name="author" content="">
      <title>Brew Day</title>
      <link rel="icon" type="logo.jpg" href="../img/logo.png">
      <!-- Bootstrap Core CSS -->
      <link href="../css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom CSS -->
      <link href="../css/brewday.css" rel="stylesheet">
   </head>
   <body>
      <div class="brand">INGREDIENTS</div>


      <!-- Navigation -->
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Recipes <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                    <li>
                                        <a href="userRecipes.html">My Recipes</a>
                                    </li>
                                    <li class="divider">
                                    </li>
                                    <li>
                                        <a href="myRecipes.html">Add Recipes</a>
                                    </li>
                                    <li class="divider">
                                    </li>
                                    <li>
                                        <a href="javascript:brewTodayFunction(event);">What should I brew today?</a>
                                    </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Ingredients <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                                <li>
                                   <a href="myIngredients.html">My Ingredients</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="ingredients.html">Add Ingredients</a>
                                </li>
                        </ul>
                    </li>
                        <li>
                            <a href="forum.html">Forum</a>
                        </li>
                        <li class="dropdown">
                                <a href="#" data-toggle="dropdown" class="droptown-toggle">Documentation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                            <li>
                                                <a href="grains.html">Grain Malts</a>
                                            </li>
                                            <li class="divider">
                                            </li>
                                            <li>
                                                <a href="hops.html">Hops</a>
                                            </li>
                                            <li class="divider">
                                            </li>
                                            <li>
                                                <a href="sugars.html">Sugars</a>
                                            </li>
                                            <li class="divider">
                                            </li>
                                            <li>
                                                <a href="yeast.html">Yeast</a>
                                            </li>
                                            <li class="divider">
                                            </li>
                                            <li>
                                                <a href="equipment.html">Equipment</a>
                                            </li>
                                </ul>
                        </li>
                        <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i>USER<b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                  <li>
                                      <a href="dashboard.html"> Dashboard</a>
                                  </li>
                                  <li class="divider">
                                  </li>
                                  <li>
                                      <a href="viewProfile.html">My Profile</a>
                                  </li>
                                  <li class="divider">
                                  </li>
                                    <li>
                                        <a href="http://localhost:8080/user/logout" onclick='logoutFunction(event);'> Log Out</a>
                                    </li>
                                </ul>
                        </li>
                    </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
</nav>


      <!-- Form container -->
      <div class="container">
         <div class="row">
            <div class="box">
               <div class="col-lg-12">
                  <form class="form-horizontal" id="ingredients_form">
                     <fieldset>
                        <!-- Form Name -->
                        <legend class="text-center"><strong>Add Ingredients</strong></legend>
                        <!-- Type-->
                        <div class="form-group">
                           <label class="col-md-4 control-label" for="Type">Type</label>
                           <div class="col-md-4">
                                 <select id="type" name="type" class="form-control input-md">
                                    <option value="" selected="selected">Select an Ingredient type</option>
                                    <option value="0">Grain Malts</option>
                                    <option value="1">Hops</option>
                                    <option value="2">Sugar</option>
                                    <option value="3">Yeast</option>
                                 </select>
                                 <small id="type_error_msg" style="color:red"></small>
                           </div>
                        </div>
                        <!-- Name -->
                        <div class="form-group">
                           <label class="col-md-4 control-label" for="Name">Name</label>
                           <div class="col-md-4">

                                  <select id="name" name="name" class="form-control input-md">
                                    <option value="">Select one</option>
                                  </select>
                                  <!-- <input id="Other" name="Other" type="text" placeholder="Name of ingredient" class="form-control input-md" size="50"> -->
                           </div>
                        </div>
                        <!-- Other entry -->
                        <!-- <div class="form-group">
                          <label class="col-md-4 control-label" for="Other">Other</label>
                          <div class="col-md-4">
                              <div class="input-group">
                                 <input id="Other" name="Other" type="text" placeholder="Name of ingredient" class="form-control input-md" size="50">
                              </div>
                          </div>
                       </div> -->

                        <!-- Quantity -->
                        <div class="form-group">
                           <label class="col-md-4 control-label" for="Quantity">Quantity</label>
                           <div class="col-md-4">
                              <div class="input-group">
                                 <input id="quantity" name="quantity" type="text" placeholder="Enter the quantity here (in lb)" class="form-control input-md" size="50">
                                 <small id="qty_error_msg" style="color:red"></small>
                              </div>
                           </div>
                        </div>
                        <br>
                        <div class="form-group">
                           <label class="col-md-4 control-label" ></label>
                           <div class="col-md-4">
                             <button class="btn btn-success" type="submit" onClick="validateCredentials()"> Add </button>
                             <button class="btn btn-danger" type="reset" value="Reset"> Clear </button>
                           </div>
                        </div>
                     </fieldset>
                  </form>
               </div>
            </div>
         </div>
      </div>
      <footer>
         <div class="container">
            <div class="row">
               <div class="col-lg-12 text-center">
                  <p>SER 518 - Group 7</p>
               </div>
            </div>
         </div>
      </footer>
      <!-- jQuery -->
      <script src="../js/jquery.js"></script>
      <!-- Bootstrap Core JavaScript -->
      <script src="../js/bootstrap.min.js"></script>

      <script type="text/javascript">
        $(document).ready(function() {

          var error_qty = false;
          var error_type = false;

          $("#type").change(function() {
            var val = $(this).val();
            $("#name").html(options[val]);
          });

          $("#type").focusout(function() {
              check_type();
          });

          $("#quantity").focusout(function() {
              check_qty();
          });

          $("#ingredients_form").submit(function() {

            error_qty = false;
            error_type = false;

            check_type();
            check_qty();

            if(error_qty == false && error_type == false) {
              return true;
            }
            else {
              return false;
            }
          });

          // function other_name() {
          //   if($("name").val() != "Other") {
          //       $("Other").hide();
          //   }
          // }

          function check_type() {

            if($("#type").val() == "") {
                $("#type_error_msg").html(" * Select an Ingredient type first");
                $("#type_error_msg").show();
                error_type = true;
            }
            else {
                $("#type_error_msg").hide();
            }
          }

          function check_qty() {

            var qty = $("#quantity").val();

            if(qty.trim() == "" || isNaN(qty)) {
                $("#qty_error_msg").html(" * Enter the correct quantity without units");
                $("#qty_error_msg").show();
                error_qty = true;
            }
            else {
                $("#qty_error_msg").hide();
            }

          }

          var options = [
            '<option value="Fawcett Oat Malt">Fawcett Oat Malt</option><option value="Flaked Barley">Flaked Barley</option><option value="Flaked Maize">Flaked Maize</option><option value="Flaked Oats">Flaked Oats</option><option value="Flaked Rye">Flaked Rye</option><option value="Flaked Wheat">Flaked Wheat</option><option value="Torrified Wheat">Torrified Wheat</option><option value="Belgian Pale Ale">Belgian Pale Ale</option><option value="Belgian Pilsner">Belgian Pilsner</option><option value="English Maris Otter">English Maris Otter</option><option value="German Dark Munich">German Dark Munich</option><option value="German Munich">German Munich</option><option value="German Pilsner">German Pilsner</option><option value="German Vienna">German Vienna</option><option value="Global Malt Kolsch">Global Malt Kolsch</option><option value="Mild Ale Malt">Mild Ale Malt</option><option value="Organic 2-row">Organic 2-row</option><option value="Organic Munich">Organic Munich</option><option value="Rahr 2-row">Rahr 2-row</option><option value="Rahr 6-row">Rahr 6-row</option><option value="Rahr Pale Ale">Rahr Pale Ale</option><option value="Rahr Premium Pilsner">Rahr Premium Pilsner</option><option value="Rahr White Wheat Malt">Rahr White Wheat Malt</option><option value="British Golden Promise">British Golden Promise</option><option value="Weyermann Bohemian Pils">Weyermann Bohemian Pils</option><option value="Weyermann Dark Wheat">Weyermann Dark Wheat</option><option value="Weyermann Pale Wheat">Weyermann Pale Wheat</option><option value="Belgian Caramel Pils">Belgian Caramel Pils</option><option value="Belgian Caramunich">Belgian Caramunich</option><option value="Belgian Caravienne">Belgian Caravienne</option><option value="Belgian Special B">Belgian Special B</option><option value="Briess Carapils">Briess Carapils</option><option value="Caramel 10">Caramel 10</option><option value="Caramel 120">Caramel 120</option><option value="Caramel 20">Caramel 20</option><option value="Caramel 40">Caramel 40</option><option value="Caramel 60">Caramel 60</option><option value="Caramel 80">Caramel 80</option><option value="Caramel 90">Caramel 90</option><option value="Gambrinus Honey Malt">Gambrinus Honey Malt</option><option value="Organic Caramel 120">Organic Caramel 120</option><option value="Organic Caramel 20">Organic Caramel 20</option><option value="Organic Caramel 60">Organic Caramel 60</option><option value="Organic CaraPils">Organic CaraPils</option><option value="English CaraMalt">English CaraMalt</option><option value="English Dark Crystal">English Dark Crystal</option><option value="English Extra Dark Crystal">English Extra Dark Crystal</option><option value="Simpsons Golden Naked Oats">Simpsons Golden Naked Oats</option><option value="English Medium Crystal">English Medium Crystal</option><option value="Weyermann CaraAmber">Weyermann CaraAmber</option><option value="Weyermann CaraAroma">Weyermann CaraAroma</option><option value="Weyermann Carafoam">Weyermann Carafoam</option><option value="Weyermann Carahell">Weyermann Carahell</option><option value="Weyermann Caramunich I">Weyermann Caramunich I</option><option value="Weyermann Caramunich II">Weyermann Caramunich II</option><option value="Weyermann Caramunich III">Weyermann Caramunich III</option><option value="Weyermann CaraRed">Weyermann CaraRed</option><option value="Weyermann Carawheat">Weyermann Carawheat</option><option value="Belgian Debittered Black">Belgian Debittered Black</option><option value="Fawcett Pale Chocolate">Fawcett Pale Chocolate</option><option value="Organic Chocolate">Organic Chocolate</option><option value="English Black Malt">English Black Malt</option><option value="English Chocolate">English Chocolate</option><option value="English Roasted Barley">English Roasted Barley</option><option value="Weyermann Chocolate Rye Malt">Weyermann Chocolate Rye Malt</option><option value="Weyermann Dehusked Carafa I">Weyermann Dehusked Carafa I</option><option value="Weyermann Dehusked Carafa II">Weyermann Dehusked Carafa II</option><option value="Weyermann Dehusked Carafa III">Weyermann Dehusked Carafa III</option><option value="Belgian Aromatic Malt">Belgian Aromatic Malt</option><option value="Belgian Biscuit Malt">Belgian Biscuit Malt</option><option value="Briess Cherry-wood Smoked Malt">Briess Cherry-wood Smoked Malt</option><option value="Briess Special Roast">Briess Special Roast</option><option value="Briess Victory">Briess Victory</option><option value="Crisp Amber">Crisp Amber</option><option value="Crisp Brown">Crisp Brown</option><option value="Franco-Belges Coffee Kiln">Franco-Belges Coffee Kiln</option><option value="British Peated Malt">British Peated Malt</option><option value="Weyermann Acidulated">Weyermann Acidulated</option><option value="Weyermann Melanoidin">Weyermann Melanoidin</option><option value="Weyermann Smoked Malt">Weyermann Smoked Malt</option><option value="Other">Other</option>',

            '<option value="Ahtanum">Ahtanum</option><option value="Amarillo">Amarillo</option><option value="Cascade">Cascade</option><option value="Centennial">Centennial</option><option value="Chinook">Chinook</option><option value="CitraHops">Citra</option><option value="Columbus">Columbus</option><option value="Cluster">Cluster</option><option value="Crystal">Crystal</option><option value="CTZ">CTZ</option><option value="Fuggle">Fuggle</option><option value="Galena">Galena</option><option value="Golding">Golding</option><option value="Hallertaumf">Hallertaumf</option><option value="Horizon">Horizon</option><option value="Liberty">Liberty</option><option value="Lambic">Lambic</option><option value="Magnum">Magnum</option><option value="Mosaic">Mosaic</option><option value="Mount Hood">Mount Hood</option><option value="Northern Brewer">Northern Brewer</option><option value="Nugget">Nugget</option><option value="Perle">Perle</option><option value="Saaz">Saaz</option><option value="Satus">Satus</option><option value="Simcoe">Simcoe</option><option value="Spalt Select">Spalt Select</option><option value="Sterling">Sterling</option><option value="Tettnang">Tettnang</option><option value="Tomahawk">Tomahawk</option><option value="Triumph">Triumph</option><option value="Ultra">Ultra</option><option value="US Fuggle">US Fuggle</option><option value="Vanguard">Vanguard</option><option value="Warrior">Warrior</option><option value="Willamette">Willamette</option><option value="Other">Other</option>',

            "<option value='Dextrose (corn sugar)'>Dextrose (corn sugar)</option><option value='Sucrose (table sugar)'>Sucrose (table sugar)</option><option value='Sucrose (beet sugar)'>Sucrose (beet sugar)</option><option value='Sucrose (cane sugar)'>Sucrose (cane sugar)</option><option value='Brown sugar'>Brown sugar</option><option value='Invert sugar'>Invert sugar</option><option value='Fructose (fruit sugar)'>Fructose (fruit sugar)</option><option value='Raw sugar'>Raw sugar</option><option value='Molasses'>Molasses</option><option value='Honey'>Honey</option><option value='Lactose (milk sugar)'>Lactose (milk sugar)</option><option value='Belgian candi sugar'>Belgian candi sugar</option><option value='Jaggery'>Jaggery</option><option value='Other'>Other</option>",

            "<option value='Ale Yeast'>Ale Yeast</option><option value='Lager Yeast'>Lager Yeast</option><option value='Other'>Other</option>"
          ];

        });
      </script>


      <script>
    function validateCredentials() {
        var typeNumber = document.getElementsByName("type")[0].value;

        var typeString;

        switch(typeNumber) {
          case '0':
            typeString = "Grain Malts";
            break;
          case '1':
            typeString = "Hops";
            break;
          case '2':
            typeString = "Sugar";
            break;
          case '3':
            typeString = "Yeast";
            break;
        }
        console.log(typeString);

        $.ajax({
                type: "POST",
                crossDomain: true,
                url: "http://localhost:8080/ingredient/newingredient",
                data: {
                    name: document.getElementsByName("name")[0].value,
                    type: typeString,
                    quantity: document.getElementsByName("quantity")[0].value,

        },
        success: function (response) {
            //code for setting session and sign in
            if (response.toString() == "success")
                alert("You have successfully added your Ingredient")
        }
        });

    }
    </script>

   </body>
</html>
