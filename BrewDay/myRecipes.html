<!DOCTYPE html>
<html lang="en">
<head>
        <script src="js/jquery.js"></script>
        <script>
            function logoutFunction(event) {
              event.preventDefault();
              window.location.href= 'https://vashama.github.io/BrewDay/BrewDay/index.html';
            }
            function brewTodayFunction(event) {
              var output = "";
          //    alert("In function");
              $.ajax({
                    type: "POST",
                    crossDomain: true,
                    url: "http://localhost:8080/pareto/main",
            success: function (response) {
                //code for setting session and sign in
                output = response.toString();
               // $("$brewingName").html(output);
                alert(output);
            }
            });
              alert("output: " + output);
              window.location.href= 'https://vashama.github.io/BrewDay/BrewDay/brewToday.html';
            }
        </script>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="">
      <meta name="author" content="">
      <title>Recipe Form</title>

      <link rel="icon" type="logo.jpg" href="img/logo.png">

      <!-- Bootstrap Core CSS -->
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom CSS -->
      <link href="css/brewday.css" rel="stylesheet">

</head>

<body>

  <div class="brand">RECIPES
  </div>

  <!-- Navigation -->
  <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Recipes <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                    <li>
                                        <a href="userRecipes.html">My Recipes</a>
                                    </li>
                                    <li class="divider">
                                    </li>
                                    <li>
                                        <a href="myRecipes.html">Add Recipes</a>
                                    </li>
                                    <li class="divider">
                                    </li>
                                    <li>
                                        <a href="javascript:brewTodayFunction(event);">What should I brew today?</a>
                                    </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Ingredients <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                                <li>
                                   <a href="myIngredients.html">My Ingredients</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="ingredients.html">Add Ingredients</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="grains.html">Grain Malts</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="hops.html">Hops</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="sugars.html">Sugars</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="yeast.html">Yeast</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="equipment.html">Equipment</a>
                                </li>
                        </ul>
                    </li>
                        <li>
                            <a href="forum.html">Forum</a>
                        </li>
                        <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Help <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="documentation.html">Documentation</a>
                                    </li>
                                    <li class="divider">
                                    </li>
                                    <li>
                                        <a href="contactSupport.html">Contact Support</a>
                                    </li>
                                </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i>USER<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                              <li>
                                  <a href="dashboard.html"> Dashboard</a>
                              </li>
                              <li class="divider">
                              </li>
                              <li>
                                  <a href="viewProfile.html">My Profile</a>
                              </li>
                              <li class="divider">
                              </li>
                              <li>
                                  <a href="profile.html">Update Profile</a>
                              </li>
                              <li class="divider">
                              </li>
                                <li>
                                    <a href="http://localhost:8080/user/logout" onclick='logoutFunction(event);'> Log Out</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
  </nav>


  <!-- Form container -->
  <div class="container">
        <div class="row">
          <div class="box">
            <div class="col-lg-12">
              <form class="form-horizontal" id="myRecipes_form">
                <fieldset>

                    <!-- Form Name -->
                    <legend class="text-center">Add Recipe</legend>

                      <!-- Beer Name-->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="recipename">Recipe Name</label>
                            <div class="col-md-4">
                                <div class="input-group">
                                  <input id="recipename" name="recipename" type="text" placeholder="Recipe Name" class="form-control input-md" size="50">
                                  <small id="recipename_error_msg" style="color:red"></small>
                                </div>
                            </div>
                    </div>

			<!-- BREW TYPE -->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="brewType ">Beer Style </label>
                            <div class="col-md-4">
                              <select id="brewType" class="form-control input-md" name="brewType">
                                <option value="Light Lager">Light Lager</option>
                                <option value="Pilsner">Pilsner</option>
                                <option value="European Amber Lager">European Amber Lager</option>
                                <option value="Dark Lager">Dark Lager</option>
                                <option value="Bock">Bock</option>
                                <option value="Light Hybrid Beer">Light Hybrid Beer</option>
                                <option value="Amber Hybrid Beer">Amber Hybrid Beer</option>
                                <option value="English Pale Ale">English Pale Ale</option>
                                <option value="Scottish and Irish Ale">Scottish and Irish Ale</option>
                                <option value="American Ale" selected>American Ale</option>
                                <option value="English Brown Ale">English Brown Ale</option>
                                <option value="Porter">Porter</option>
                                <option value="Stout">Stout</option>
                                <option value="India Pale Ale (IPA)">India Pale Ale (IPA)</option>
                                <option value="German Wheat and Rye Beer">German Wheat and Rye Beer</option>
                                <option value="Belgian and French Ale">Belgian and French Ale</option>
                                <option value="Sour Ale">Sour Ale</option>
                                <option value="Belgian Strong Ale">Belgian Strong Ale</option>
                                <option value="Strong Ale">Strong Ale</option>
                                <option value="Fruit Beer">Fruit Beer</option>
                                <option value="Spice/Herb/Vegetable Beer">Spice/Herb/Vegetable Beer</option>
                                <option value="Smoke-Flavored/Wood-Aged Beer">Smoke-Flavored/Wood-Aged Beer</option>
                                <option value="Specialty Beer">Specialty Beer</option>
                              </select>
                            </div>
                    </div>

                    <!-- Batch Size-->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="batchSize">Batch Size <br>(in gallons)</label>
                            <div class="col-md-4">
                                <select id="batchSize" name="batchSize" class="form-control input-md">
                                   <option value="4.00">4.00</option>
                                   <option value="4.50">4.50</option>
                                   <option value="5.00" selected>5.00</option>
                                   <option value="5.50">5.50</option>
                                   <option value="6.00">6.00</option>
                                   <option value="6.50">6.50</option>
                                   <option value="7.00">7.00</option>
                                   <option value="7.50">7.50</option>
                                   <option value="8.00">8.00</option>
                                   <option value="8.50">8.50</option>
                                   <option value="9.00">9.00</option>
                                   <option value="9.50">9.50</option>
                                   <option value="10.00">10.00</option>
                                </select>
                            </div>
                    </div>

                    <!-- ABV -->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="ABV">ABV</label>
                            <div class="col-md-4">
                              <div class="input-group">
                                <input id="abv" name="abv" type="text" placeholder="ABV" class="form-control input-md" size="50">
                                <small id="abv_error_msg" style="color:red"></small>
                              </div>
                            </div>
                    </div>


                    <!-- IBU -->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="IBU">IBU</label>
                            <div class="col-md-4">
                              <div class="input-group">
                                <input id="ibu" name="ibu" type="text" placeholder="IBU" class="form-control input-md" size="50">
                                <small id="ibu_error_msg" style="color:red"></small>
                              </div>
                            </div>
                    </div>


                    <!-- BOIL TIME -->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="boilTime ">Boil Time <br> (in minutes)</label>
                            <div class="col-md-4">
                              <select id="boilTime" name="boilTime" class="form-control input-md">
                                 <option value="30:00:00">30</option>
                                 <option value="45:00:00">45</option>
                                 <option value="50:00:00">50</option>
                                 <option value="55:00:00">55</option>
                                 <option value="60:00:00" selected>60</option>
                                 <option value="65:00:00">65</option>
                                 <option value="70:00:00">70</option>
                                 <option value="75:00:00">75</option>
                                 <option value="90:00:00">90</option>
                                 <option value="120:00:00">120</option>
                                 <option value="150:00:00">150</option>
                                 <option value="180:00:00">180</option>
                              </select>
                            </div>
                    </div>

                    <!--Instruction -->
                    <div class="form-group">
                            <label class="col-md-4 control-label" for="instructions">Instructions</label>
                            <div class="col-md-4">
                              <textarea class="form-control" rows="10"  id="instructions" name="instructions" placeholder="Instructions for preparing beer"></textarea>
                              <small id="instructions_error_msg" style="color:red"></small>
                            </div>
                    </div>

                    <div class="form-group">
                      <label class="col-md-4 control-label" ></label>
                        <div class="col-md-4">
                          <label><input type="radio" name="optradio" value="PUBLIC">Public</label>
                          <label><input type="radio" name="optradio" value="PRIVATE" checked>Private</label>
                          <button class="btn btn-primary btn-block" type="submit" onClick="validateCredentials()">Add this recipe</button>
                          <!--<a href="#" class="btn btn-success"> Add this recipe </a>-->
                        </div>
                    </div>

                </fieldset>
              </form>
            </div>
          </div>
        </div>
  </div>


  <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <p>SER 518 - Group 7</p>
          </div>
        </div>
      </div>
  </footer>

  <!-- jQuery -->
  <script src="js/jquery.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>

      <script>
    function validateCredentials() {
        //alert("Hi!! Enter your recipe")
        $.ajax({
                type: "POST",
                crossDomain: true,
                url: "http://localhost:8080/recipe/newrecipe",
                data: {
            recipename: document.getElementsByName("recipename")[0].value,
                    ibu: document.getElementsByName("ibu")[0].value,
                    abv: document.getElementsByName("abv")[0].value,
                    batchSize: document.getElementsByName("batchSize")[0].value,
                    Description: document.getElementsByName("instructions")[0].value,
                    boilTime : document.getElementsByName("boilTime")[0].value,
                    brewType: document.getElementsByName("brewType")[0].value,
                    optradio: $('input[name=optradio]:checked').val()


        },
        success: function (response) {
            //code for setting session and sign in
            if (response.toString() == "success")
                alert("You have successfully added your recipe")
        }
        });
    }
</script>
      <script>
    function redirectMethod() {
        alert("Hi")
        $.ajax({
            type: "POST",
            crossDomain: true,
            url: "http://localhost:8080/user/logout",

            success: function (response) {

                if (response.toString() == "success"){
                    alert("You are logged out successfully")
		window.location="https://vashama.github.io/BrewDay/BrewDay/index.html";
}
            }
        });
    }
</script>
<script>
$(document).ready(function() {

  var error_recipename = false;
  var error_abv = false;
  var error_ibu = false;
  var error_instructions = false;

  $("#recipename").focusout(function() {
      check_recipename();
  });

  $("#abv").focusout(function() {
      check_abv();
  });

  $("#ibu").focusout(function() {
      check_ibu();
  });

  $("#instructions").focusout(function() {
      check_instructions();
  });

  $("#myRecipes_form").submit(function() {

    error_recipename = false;
    error_abv = false;
    error_ibu = false;
    error_instructions = false;

    check_recipename();
    check_ibu();
    check_abv();
    check_instructions();

    if(error_recipename == false && error_abv == false && error_ibu == false && error_instructions == false) {
      return true;
    }
    else {
      return false;
    }
  });

  function check_recipename() {

    if($("#recipename").val().trim() == "") {
        $("#recipename_error_msg").html(" * Enter a name for the recipe");
        $("#recipename_error_msg").show();
        error_recipename = true;
    }
    else {
        $("#recipename_error_msg").hide();
    }
  }

  function check_abv() {

    var abv = $("#abv").val();

    if(abv.trim() == "" || isNaN(abv)) {
        $("#abv_error_msg").html(" * Enter the Alcohol by Volume, without % symbol");
        $("#abv_error_msg").show();
        error_abv = true;
    }
    else if(abv < 1) {
        $("#abv_error_msg").html(" * ABV value should be larger than 1");
        $("#abv_error_msg").show();
        error_abv = true;
    }
    else if(abv > 30) {
        $("#abv_error_msg").html(" * Are you sure you want to enter a Beer recipe? <br> ** ABV value for beers go upto 30%.");
        $("#abv_error_msg").show();
        error_abv = true;
    }
    else {
        $("#abv_error_msg").hide();
    }

  }

  function check_ibu() {

    var ibu = $("#ibu").val();

    if(ibu.trim() == "" || isNaN(ibu)) {
        $("#ibu_error_msg").html(" * Enter International Bitterness Units, decimal number only");
        $("#ibu_error_msg").show();
        error_ibu = true;
    }
    else if(ibu < 0) {
        $("#ibu_error_msg").html(" * IBU cannot be negative");
        $("#ibu_error_msg").show();
        error_ibu = true;
    }
    else if(ibu > 120) {
        $("#ibu_error_msg").html(" * IBU cannot be geater than 120 IBUs");
        $("#ibu_error_msg").show();
        error_ibu = true;
    }
    else {
        $("#ibu_error_msg").hide();
    }
  }

  function check_instructions() {

    if($("#instructions").val().trim() == "") {
        $("#instructions_error_msg").html(" * Enter a name for the recipe");
        $("#instructions_error_msg").show();
        error_instructions = true;
    }
    else {
        $("#instructions_error_msg").hide();
    }
  }

});
</script>
</body>

</html>
